{"version":3,"file":"_helpers.4bf209b2.js","sources":["../../packages/demos/src/_helpers.tsx"],"sourcesContent":["import { PlotDrawInputParams, PlotStaticConfig } from \"@canplot/core\";\nimport { usePlot } from \"@canplot/react\";\nimport React from \"react\";\n\nexport type PlotStoryProps = Omit<PlotStaticConfig, \"canvas\"> &\n  PlotDrawInputParams;\n\nexport const EmbeddedPlot: React.FC<PlotStoryProps> = ({\n  dimensions,\n  plugins,\n  ...plotDrawInputParams\n}) => {\n  const [ref] = usePlot(\n    { dimensions, plugins },\n    () => {\n      return plotDrawInputParams;\n    },\n    [plotDrawInputParams]\n  );\n\n  return <canvas ref={ref} />;\n};\n\nexport const animationLoop = (foo: () => void) => {\n  let continueLoop = true;\n  let request: number | null = null;\n\n  const drawLoop = () => {\n    if (!continueLoop) {\n      return;\n    }\n    request = requestAnimationFrame(() => {\n      foo();\n      drawLoop();\n    });\n  };\n\n  drawLoop();\n  return () => {\n    if (request !== null) {\n      cancelAnimationFrame(request);\n    }\n    continueLoop = false;\n  };\n};\n\nexport const range = (start: number, end: number, step = 1) => {\n  const result = [];\n  for (let i = start; i < end; i += step) {\n    result.push(i);\n  }\n  return result;\n}"],"names":["EmbeddedPlot","__name","dimensions","plugins","ref","usePlot","plotDrawInputParams","_jsx","animationLoop","foo","continueLoop","request","drawLoop","cancelAnimationFrame","range","start","end","step","result"],"mappings":"uKAOO,MAAAA,EAAAC,EAAA,CAAA,CAAgD,WAAAC,EACrDA,QAAAA,KACAC,CAEF,IAAA,CACE,KAAA,CAAAC,CAAA,EAAAC,EAAA,CACE,WAAAH,EAAEA,QAAAA,CAAYC,EAAAA,IAEZG,EAAOA,CAAAA,CAAAA,CAAAA,EAKX,OAAAC,EAAA,SAAA,CAAO,IAAAH,CAAQ,CAAA,CACjB,EAdO,gBAgBAI,EAAAP,EAAAQ,GAAA,CACL,IAAAC,EAAA,GACAC,EAAA,KAEA,MAAAC,EAAAX,EAAA,IAAA,CACE,CAAAS,IAGAC,EAAAA,sBAAAA,IAAAA,CACEF,IACAG,GAAU,CAAA,EACX,EAPH,YAUAA,OAAAA,IACA,IAAA,CACED,IAAA,MACEE,qBAAAA,CAAAA,EAEFH,EAAAA,EAAe,CAEnB,EArBO,iBAuBAI,EAAAb,EAAA,CAAAc,EAAAC,EAAAC,EAAA,IAAA,CACL,MAAAC,EAAA,CAAA,EACA,QAAA,EAAAH,EAAA,EAAAC,EAAA,GAAAC,EACEC,EAAAA,KAAAA,CAAAA,EAEF,OAAAA,CACF,EANO"}
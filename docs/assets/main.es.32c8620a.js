var Ft=Object.defineProperty;var h=(e,t)=>Ft(e,"name",{value:t,configurable:!0});import{r as K}from"./jsx-runtime.d8a1b41d.js";function g(e,t,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(e):s?s.value:t.get(e)}h(g,"w");function A(e,t,i,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(e,i):n?n.value=i:t.set(e,i),i}h(A,"D");const Nt=50,at="primary",yt="center",xt=5,bt=10,wt=60,kt="UTC",Rt="en-GB",Tt=25,Wt=10,tt=h((e,t,i)=>Math.min(Math.max(e,t),i),"Q"),_t=h((e,t)=>{let i=0;for(let s=0;s<e.length;s++)Math.abs(e[s]-t)<Math.abs(e[i]-t)&&(i=s);return i},"zt"),F=h(e=>e.startsWith("x-"),"z"),R=h((e,t,i)=>{const s=e.chartArea,{min:n,max:o}=e.limits[i],a=(F(i)?s.width:s.height)/(o-n);return t*a},"N"),w=h((e,t,i)=>{const{min:s}=e.limits[i],n=e.chartArea,o=R(e,t-s,i);return F(i)?tt(n.x+o,-10*n.width,10*n.width):tt(n.y+n.height-o,-10*n.height,10*n.height)},"T"),rt=h((e,t,i)=>{const{min:s,max:n}=e.limits[i],o=e.chartArea,a=(F(i)?o.width:o.height)/(n-s);return t/a},"at"),ot=h((e,t,i)=>{const{min:s,max:n}=e.limits[i],o=rt(e,t,i);return F(i)?s+o:n-o},"ot"),P=h((e,t)=>{var i,s,n,o,a,l,c,r,u,p,f,d;e.lineCap=(i=t==null?void 0:t.lineCap)!==null&&i!==void 0?i:"butt",e.lineDashOffset=(s=t==null?void 0:t.lineDashOffset)!==null&&s!==void 0?s:0,e.lineJoin=(n=t==null?void 0:t.lineJoin)!==null&&n!==void 0?n:"miter",e.lineWidth=(o=t==null?void 0:t.lineWidth)!==null&&o!==void 0?o:1,e.miterLimit=(a=t==null?void 0:t.miterLimit)!==null&&a!==void 0?a:10,e.strokeStyle=(l=t==null?void 0:t.strokeStyle)!==null&&l!==void 0?l:"black",e.fillStyle=(c=t==null?void 0:t.fillStyle)!==null&&c!==void 0?c:"black",e.font=(r=t==null?void 0:t.font)!==null&&r!==void 0?r:"10px sans-serif",e.textAlign=(u=t==null?void 0:t.textAlign)!==null&&u!==void 0?u:"start",e.direction=(p=t==null?void 0:t.direction)!==null&&p!==void 0?p:"inherit",e.textBaseline=(f=t==null?void 0:t.textBaseline)!==null&&f!==void 0?f:"alphabetic",e.fontKerning=(d=t==null?void 0:t.fontKerning)!==null&&d!==void 0?d:"auto"},"P"),St=h(e=>{if(typeof e=="number"||typeof e>"u"){const t=e!=null?e:Wt;return{top:t,right:t,bottom:t,left:t}}return Object.assign({},e)},"kt"),Bt=h((e,t,i=100,s=1/0)=>{const{series:n}=t.inputParams;return e?n.map(o=>{if(o.x.length<0)return;const a=_t(o.x,e.scaled[o.xScaleId]);if(Number.isFinite(i)){const l=w(t,o.x[a],o.xScaleId);if(Math.abs(e.canvas.x-l)>i)return}if(Number.isFinite(s)){const l=w(t,o.y[a],o.yScaleId);if(Math.abs(e.canvas.y-l)>s)return}return{x:o.x[a],y:o.y[a]}}):n.map(()=>{})},"jt"),ue=Object.freeze(Object.defineProperty({__proto__:null,isXScale:F,valToPxDistance:R,valToPos:w,pxToValDistance:rt,posToVal:ot,applyStyles:P,normalizePadding:St,findClosestDataPoint:Bt},Symbol.toStringTag,{value:"Module"})),V=[];for(let e=-12;e<=12;e++)V.push(1*Math.pow(10,e)),V.push(2*Math.pow(10,e)),V.push(5*Math.pow(10,e));const B=h(e=>{var t;return((t=e.position)!==null&&t!==void 0?t:at)==="primary"},"B"),Ct=h(({space:e=wt}={})=>({frame:t,scale:i})=>{var s;const n=t.limits[i.id],o=[],a=rt(t,e,i.id),l=(s=V.find(r=>r>a))!==null&&s!==void 0?s:1;let c=n.min%l<Number.EPSILON?n.min:n.min+l-n.min%l;for(;c<=n.max;)o.push(c),c+=l;return o},"xt"),Mt=h(({ticks:e})=>{const t=Math.max(0,Math.ceil(-Math.log10(e[1]-e[0])));return e.map(i=>i.toFixed(t))},"Pt"),dt=h((e,t,i,s)=>{var n,o,a,l,c;const{ctx:r}=e,u=(n=t.tickSize)!==null&&n!==void 0?n:xt,p=s,f=B(t)?s-u:s+u,d=(o=t.multilineGap)!==null&&o!==void 0?o:bt,m=(l=((a=t.genTicks)!==null&&a!==void 0?a:Ct())({frame:e,scale:i,axis:t}))!==null&&l!==void 0?l:[],k=((c=t.tickFormat)!==null&&c!==void 0?c:Mt)({frame:e,scale:i,ticks:m});r.save(),P(r,Object.assign(Object.assign({},t.axisStyle),t.tickStyle)),r.beginPath();for(let v=0;v<m.length;v++){const y=w(e,m[v],i.id);r.moveTo(p,y),r.lineTo(f,y)}r.stroke(),r.restore(),r.save(),P(r,Object.assign(Object.assign({textBaseline:"middle",textAlign:B(t)?"right":"left"},t.axisStyle),t.tickLabelStyle));for(let v=0;v<m.length;v++){const y=w(e,m[v],i.id),x=k[v].split(`
`);for(let b=0;b<x.length;b++)r.fillText(x[b],f,y+b*d)}r.restore()},"ct"),ht=h((e,t,i,s,n)=>{e.save(),P(e,t.axisStyle),e.beginPath(),e.moveTo(i,s),e.lineTo(i,n),e.closePath(),e.stroke(),e.restore()},"dt"),ut=h((e,t,i,s)=>{var n,o,a,l,c,r;const{ctx:u}=e,p=(n=t.position)!==null&&n!==void 0?n:at,f=(o=t.tickSize)!==null&&o!==void 0?o:xt,d=s,m=p==="primary"?s+f:s-f,k=(a=t.multilineGap)!==null&&a!==void 0?a:bt,v=(c=((l=t.genTicks)!==null&&l!==void 0?l:Ct())({frame:e,scale:i,axis:t}))!==null&&c!==void 0?c:[],y=((r=t.tickFormat)!==null&&r!==void 0?r:Mt)({frame:e,scale:i,ticks:v});u.save(),P(u,Object.assign(Object.assign({},t.axisStyle),t.tickStyle)),u.beginPath();for(let x=0;x<v.length;x++){const b=w(e,v[x],i.id);u.moveTo(b,d),u.lineTo(b,m)}u.stroke(),u.restore(),u.save(),P(u,Object.assign(Object.assign({textBaseline:p==="primary"?"top":"bottom",textAlign:"center"},t.axisStyle),t.tickLabelStyle));for(let x=0;x<v.length;x++){const b=w(e,v[x],i.id),C=y[x].split(`
`);for(let S=0;S<C.length;S++)u.fillText(C[S],b,m+S*k)}u.restore()},"ht"),ft=h((e,t,i)=>{var s,n;if(!t.label)return;const{ctx:o}=e;o.save();let a,l;switch((s=t.labelAlign)!==null&&s!==void 0?s:yt){case"start":l="left",a=e.chartArea.x;break;case"end":l="right",a=e.chartArea.x+e.chartArea.width;break;case"center":l="center",a=e.chartArea.x+e.chartArea.width/2;break}P(o,Object.assign({textBaseline:B(t)?"top":"bottom",textAlign:l},t.labelStyle));const c=(n=t.labelOffset)!==null&&n!==void 0?n:Tt,r=B(t)?i+c:i-c;o.fillText(t.label,a,r),o.restore()},"ut"),mt=h((e,t,i,s,n)=>{e.save(),P(e,t.axisStyle),e.beginPath(),e.moveTo(s,i),e.lineTo(n,i),e.closePath(),e.stroke(),e.restore()},"vt"),vt=h((e,t,i)=>{var s,n;if(!t.label)return;const{ctx:o}=e;o.save();let a,l;switch((s=t.labelAlign)!==null&&s!==void 0?s:yt){case"start":l="bottom",a=e.chartArea.y+e.chartArea.height;break;case"end":l="top",a=e.chartArea.y;break;case"center":l="middle",a=e.chartArea.y+e.chartArea.height/2;break}P(o,Object.assign({textBaseline:l,textAlign:B(t)?"right":"left"},t.labelStyle));const c=(n=t.labelOffset)!==null&&n!==void 0?n:Tt,r=B(t)?i-c:i+c;o.fillText(t.label,r,a),o.restore()},"ft"),Zt=h(e=>{var t,i;const{ctx:s,chartArea:n,inputParams:o,canvasSize:a,padding:l}=e,c=n.x,r=n.x+n.width,u=n.y,p=n.y+n.height;let f=l.left,d=a.width-l.right,m=a.height-l.bottom,k=l.top;for(const v of o.axes){const y=o.scales.find(C=>C.id===v.scaleId);if(!y)continue;const x=(t=v.size)!==null&&t!==void 0?t:Nt,b=(i=v.position)!==null&&i!==void 0?i:at;F(y.id)?b==="primary"?(m-=x,mt(s,v,m,c,r),ut(e,v,y,m),ft(e,v,m)):(k+=x,mt(s,v,k,c,r),ut(e,v,y,k),ft(e,v,k)):b==="primary"?(f+=x,ht(s,v,f,u,p),dt(e,v,y,f),vt(e,v,f)):(d-=x,ht(s,v,d,u,p),dt(e,v,y,d),vt(e,v,d))}},"Nt"),Z=h((e,t)=>{const i=e.inputParams.scales.find(s=>s.id===t);return i||console.error("No scale found",t),i},"H"),Ht=h((e,t)=>{const{ctx:i,chartArea:s}=e,n=Z(e,t.scaleId);if(!n)return;const o=w(e,t.x,n.id);i.save(),P(i,t.style),i.beginPath(),i.moveTo(o,s.y),i.lineTo(o,s.y+s.height),i.stroke(),i.restore()},"Wt"),$t=h((e,t)=>{const{ctx:i,chartArea:s}=e,n=Z(e,t.scaleId);if(!n)return;const o=w(e,t.y,n.id);i.save(),P(i,t.style),i.beginPath(),i.moveTo(s.x,o),i.lineTo(s.x+s.width,o),i.stroke(),i.restore()},"Bt"),Xt=h((e,t)=>{const{ctx:i}=e,s=Z(e,t.xScaleId),n=Z(e,t.yScaleId);if(!s||!n)return;const o=w(e,t.x,s.id),a=w(e,t.y,n.id);i.save(),P(i,t.style),i.beginPath(),i.arc(o,a,t.radius,0,2*Math.PI),i.stroke(),i.fill(),i.restore()},"Ht"),Yt=h((e,t)=>{const{ctx:i,chartArea:s}=e;let n=s.x,o=s.x+s.width,a=s.y,l=s.y+s.height;if(t.x){const c=Z(e,t.x.scaleId);if(!c)return;typeof t.x.min=="number"&&(n=Math.ceil(w(e,t.x.min,c.id))),typeof t.x.max=="number"&&(o=Math.ceil(w(e,t.x.max,c.id)))}if(t.y){const c=Z(e,t.y.scaleId);if(!c)return;typeof t.y.min=="number"&&(a=Math.ceil(w(e,t.y.min,c.id))),typeof t.y.max=="number"&&(l=Math.ceil(w(e,t.y.max,c.id)))}i.save(),P(i,t.style),i.beginPath(),i.fillRect(n,a,o-n,l-a),i.restore()},"Rt"),Gt=h((e,t)=>{e.ctx.save(),P(e.ctx,t.style),t.draw(e,t),e.ctx.restore()},"Xt"),st=h((e,t)=>{var i,s;const{inputParams:n}=e,o=(s=(i=n.facets)===null||i===void 0?void 0:i.filter(a=>{var l;return((l=a.layer)!==null&&l!==void 0?l:"bottom")===t}))!==null&&s!==void 0?s:[];for(const a of o)switch(a.type){case"custom":Gt(e,a);break;case"v-line":Ht(e,a);break;case"h-line":$t(e,a);break;case"circle":Xt(e,a);break;case"span":Yt(e,a);break}},"nt"),Jt=h(({frame:e,scaleId:t})=>{let i=1/0,s=-1/0;for(const n of e.inputParams.series)if(F(t)){if(n.xScaleId!==t)continue;for(const o of n.x)o<i&&(i=o),o>s&&(s=o)}else{if(n.yScaleId!==t)continue;for(const o of n.y)o<i&&(i=o),o>s&&(s=o)}return Number.isFinite(i)&&Number.isFinite(s)?{min:i,max:s}:{min:0,max:1}},"Yt"),Kt=h(e=>{var t;const{ctx:i,chartArea:s,inputParams:n}=e;i.save();const o=new Path2D;o.rect(s.x,s.y,s.width,s.height),i.clip(o);for(const a of n.series){const l=n.scales.find(r=>r.id===a.xScaleId),c=n.scales.find(r=>r.id===a.yScaleId);!l||!c||(t=a.plotter)===null||t===void 0||t.call(a,e,a,l,c)}e.ctx.restore()},"Gt");var E,Y,D,z,G,H,et,$,O,pt,nt,X;const Vt=h(({ctx:e,canvasSize:{width:t,height:i}})=>{e.clearRect(0,0,t,i)},"Vt");class Pt{constructor(t,i){var s,n,o;E.add(this),Y.set(this,void 0),D.set(this,void 0),z.set(this,void 0),G.set(this,void 0),H.set(this,!1),et.set(this,[]),$.set(this,void 0),O.set(this,"not-attached"),Object.defineProperty(this,"parentResizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:new ResizeObserver(c=>{for(const r of c)A(this,G,{width:r.contentRect.width,height:r.contentRect.height},"f"),g(this,E,"m",X).call(this,g(this,z,"f"))})});const{width:a="auto",height:l="auto"}=(s=t.dimensions)!==null&&s!==void 0?s:{};A(this,Y,{width:a,height:l},"f"),A(this,D,(o=(n=t.plugins)===null||n===void 0?void 0:n.map((c,r)=>{var u;return{setState:p=>{g(this,D,"f")[r].state=p(g(this,D,"f")[r].state),g(this,E,"m",X).call(this,g(this,z,"f"))},state:(u=c.initState)===null||u===void 0?void 0:u.call(c),config:c}}))!==null&&o!==void 0?o:[],"f"),A(this,z,i,"f"),t.canvas&&this.attach(t.canvas)}getPhase(){return g(this,O,"f")}attach(t){if(g(this,O,"f")!=="not-attached")throw new Error("Plot already attached");A(this,O,"initializing","f"),A(this,$,t,"f");const{width:i,height:s}=g(this,Y,"f");typeof i=="number"&&Number.isFinite(i)&&(t.width=i),typeof s=="number"&&Number.isFinite(s)&&(t.height=s),i==="auto"||s==="auto"?this.parentResizeObserver.observe(t.parentElement):g(this,E,"m",X).call(this,g(this,z,"f"))}getCanvas(){if(!g(this,$,"f"))throw new Error("Canvas not attached");return g(this,$,"f")}update(t){let i;if(t instanceof Function)if(g(this,O,"f")==="initialized")try{i=t(g(this,z,"f"))}catch(s){console.error(s);return}else{console.error("Cannot update plot before it is initialized: "+g(this,O,"f"));return}else i=t;A(this,z,i,"f"),g(this,E,"m",X).call(this,i)}getDrawContext(){return g(this,E,"m",nt).call(this,g(this,z,"f"))}destroy(){var t,i;this.parentResizeObserver.disconnect(),A(this,O,"destroyed","f");for(const s of g(this,D,"f"))(i=(t=s.config.hooks)===null||t===void 0?void 0:t.onDestroy)===null||i===void 0||i.call(t,{plot:this,self:s});for(const s of g(this,et,"f"))s()}}h(Pt,"re");Y=new WeakMap,D=new WeakMap,z=new WeakMap,G=new WeakMap,H=new WeakMap,et=new WeakMap,$=new WeakMap,O=new WeakMap,E=new WeakSet,pt=h(function(){const{width:e,height:t}=g(this,Y,"f"),i=this.getCanvas();i.width=e==="auto"?g(this,G,"f").width:e,i.height=t==="auto"?g(this,G,"f").height:t},"mt"),nt=h(function(e){var t,i;const s=St(e.padding);let n=0,o=0,a=0,l=0;for(const p of e.axes){const f=(t=p.size)!==null&&t!==void 0?t:50,d=(i=p.position)!==null&&i!==void 0?i:"primary";F(p.scaleId)?d==="primary"?a+=f:l+=f:d==="primary"?n+=f:o+=f}const c=this.getCanvas(),r={width:c.width,height:c.height},u={ctx:c.getContext("2d"),chartArea:{x:n+s.left,y:l+s.top,width:r.width-n-o-s.left-s.right,height:r.height-l-a-s.top-s.bottom},padding:s,canvasSize:r,inputParams:e};return Object.assign(Object.assign({},u),{limits:Object.fromEntries(e.scales.map(p=>{var f;return[p.id,((f=p.makeLimits)!==null&&f!==void 0?f:Jt)({frame:u,scaleId:p.id})]}))})},"it"),X=h(function(e){var t,i,s,n,o,a,l,c,r,u;if(g(this,O,"f")==="destroyed")return;if(g(this,H,"f")){console.error("Cannot redraw while redrawing");return}A(this,H,!0,"f"),g(this,E,"m",pt).call(this);let p=e;for(const d of g(this,D,"f"))d.config.transformInputParams&&(p=d.config.transformInputParams({inputParams:p,plot:this,self:d}));let f=g(this,E,"m",nt).call(this,p);for(const d of g(this,D,"f"))d.config.transformFrame&&(f=d.config.transformFrame({frame:f,plot:this,self:d}));if(g(this,O,"f")==="initializing"){for(const d of g(this,D,"f")){const m=(i=(t=d.config.hooks)===null||t===void 0?void 0:t.onInit)===null||i===void 0?void 0:i.call(t,{frame:f,plot:this,self:d});m&&g(this,et,"f").push(m)}A(this,O,"initialized","f")}for(const d of g(this,D,"f"))(n=(s=d.config.hooks)===null||s===void 0?void 0:s.beforeClear)===null||n===void 0||n.call(s,{frame:f,plot:this,self:d});Vt(f);for(const d of g(this,D,"f"))(a=(o=d.config.hooks)===null||o===void 0?void 0:o.afterClear)===null||a===void 0||a.call(o,{frame:f,plot:this,self:d});if(!(f.chartArea.height<0||f.chartArea.width<0)){st(f,"bottom"),Kt(f);for(const d of g(this,D,"f"))(c=(l=d.config.hooks)===null||l===void 0?void 0:l.afterSeries)===null||c===void 0||c.call(l,{frame:f,plot:this,self:d});st(f,"middle"),Zt(f);for(const d of g(this,D,"f"))(u=(r=d.config.hooks)===null||r===void 0?void 0:r.afterAxes)===null||u===void 0||u.call(r,{frame:f,plot:this,self:d});st(f,"top"),A(this,H,!1,"f")}},"G");const qt=h(({frame:e,idx:t,series:i,scale:s,distinctDistance:n})=>{const o=R(e,i.x[t],s.id);for(let a=1;a<100;a++){const l=i.x[t-a];if(l!==void 0&&Math.abs(R(e,l,s.id)-o)<=n)return!1;const c=i.x[t+a];if(c!==void 0&&Math.abs(R(e,c,s.id)-o)<=n)return!1}return!0},"Zt"),fe=h(({style:e,showDistrinct:t=qt,radius:i=3,distinctDistance:s=50,gapDistance:n=1/0}={})=>(o,a,l,c)=>{const r=o.ctx,u=Math.min(a.x.length,a.y.length),p=w(o,a.x[0],l.id),f=w(o,a.y[0],c.id);r.save(),r.beginPath(),P(r,e),r.moveTo(p,f);for(let d=1;d<u;d++){const m=a.x[d],k=a.y[d],v=w(o,m,l.id),y=w(o,k,c.id);a.x[d]-a.x[d-1]>n?r.moveTo(v,y):r.lineTo(v,y)}r.stroke(),r.beginPath();for(let d=0;d<u;d++)if(t({frame:o,idx:d,series:a,scale:l,distinctDistance:s})){const m=a.x[d],k=a.y[d],v=w(o,m,l.id),y=w(o,k,c.id);r.moveTo(v+i,y),r.arc(v,y,i,0,2*Math.PI)}r.fillStyle="white",r.fill(),r.stroke(),r.restore()},"le"),me=h(({style:e,radius:t=3}={})=>(i,s,n,o)=>{const a=i.ctx;a.save(),a.beginPath(),P(a,e);for(let l=0;l<s.x.length;l++){const c=s.x[l],r=s.y[l];if(c===void 0||r===void 0)continue;const u=w(i,c,n.id),p=w(i,r,o.id);a.moveTo(u+t,p),a.arc(u,p,t,0,2*Math.PI)}a.closePath(),a.stroke(),a.restore()},"ce"),Qt=h(e=>{const t=Math.floor(e*255);return[t,t,t,255]},"$t"),ve=h(({z:e,tileX:t,tileY:i,colorSpace:s})=>(n,o,a,l)=>{var c;const r=Math.max(...e),u=Math.min(...e),p=e.map(m=>(m-u)/(r-u)),f=Math.floor(R(n,t,a.id))+1,d=Math.floor(R(n,i,l.id))+1;for(let m=0;m<o.x.length;m++){const k=o.x[m],v=o.y[m],y=p[m];if(k===void 0||v===void 0||y===void 0)continue;const x=n.ctx.createImageData(f,d);for(let b=0;b<x.data.length;b+=4){const[C,S,T,M]=(c=s==null?void 0:s(y))!==null&&c!==void 0?c:Qt(y);x.data[b]=C,x.data[b+1]=S,x.data[b+2]=T,x.data[b+3]=M}n.ctx.putImageData(x,Math.round(w(n,k,a.id)),Math.round(w(n,v,l.id)-d))}},"he"),te=1,Dt=1e3*te,At=60*Dt,Ot=60*At,lt=24*Ot,ee=30*lt,ie=365*lt,se=[[1,"milliseconds"],[2,"milliseconds"],[5,"milliseconds"],[10,"milliseconds"],[20,"milliseconds"],[50,"milliseconds"],[100,"milliseconds"],[200,"milliseconds"],[500,"milliseconds"],[1,"seconds"],[5,"seconds"],[10,"seconds"],[15,"seconds"],[30,"seconds"],[1,"minutes"],[5,"minutes"],[10,"minutes"],[15,"minutes"],[30,"minutes"],[1,"hours"],[2,"hours"],[3,"hours"],[4,"hours"],[6,"hours"],[8,"hours"],[12,"hours"],[1,"days"],[3,"days"],[5,"days"],[7,"days"],[10,"days"],[15,"days"],[1,"months"],[2,"months"],[3,"months"],[4,"months"],[6,"months"],[1,"years"],[2,"years"],[5,"years"],[10,"years"],[25,"years"],[50,"years"],[100,"years"]],q=h(e=>{const[t,i]=e;switch(i){case"milliseconds":return t;case"seconds":return t*Dt;case"minutes":return t*At;case"hours":return t*Ot;case"days":return t*lt;case"months":return t*ee;case"years":return t*ie}},"J"),oe=h((e,t)=>{const i=new Date(e);return i.setUTCMilliseconds(i.getUTCMilliseconds()+t),i.getTime()},"te"),ne=h((e,t)=>{const i=new Date(e);return i.setUTCSeconds(i.getUTCSeconds()+t),i.getTime()},"ee"),ae=h((e,t)=>{const i=new Date(e);return i.setUTCMinutes(i.getUTCMinutes()+t),i.getTime()},"ne"),re=h((e,t)=>{const i=new Date(e);return i.setUTCHours(i.getUTCHours()+t),i.getTime()},"oe"),le=h((e,t)=>{const i=new Date(e);return i.setUTCDate(i.getUTCDate()+t),i.getTime()},"ie"),gt=h((e,t)=>{const i=new Date(e);return i.setUTCMonth(i.getUTCMonth()+t),i.getTime()},"gt"),L=h((e,t)=>{const[i,s]=t;switch(s){case"milliseconds":return oe(e,i);case"seconds":return ne(e,i);case"minutes":return ae(e,i);case"hours":return re(e,i);case"days":return le(e,i);case"months":return gt(e,i);case"years":return gt(e,i*12)}},"I");function Q(e,t){const i=new Date(e),s=new Date(i.toLocaleString("en-US",{timeZone:t})),n=new Date(i.toLocaleString("en-US",{timeZone:"UTC"}));return(s.getTime()-n.getTime())/(60*60*1e3)}h(Q,"q");const ce=h((e,t,i="UTC")=>{const[s,n]=t;let o=new Date(e);const a=h(()=>{o.setUTCHours(-Q(o,i),0,0,0)},"a");switch(n){case"milliseconds":o.setUTCMilliseconds(Math.ceil(o.getUTCMilliseconds()/s)*s);break;case"seconds":o.setUTCSeconds(Math.ceil(o.getUTCSeconds()/s)*s,0);break;case"minutes":o.setUTCMinutes(Math.ceil(o.getUTCMinutes()/s)*s,0,0);break;case"hours":o.setUTCHours(Math.ceil(o.getUTCHours()/s)*s,0,0,0);break;case"days":case"months":case"years":n==="months"?o.setUTCDate(1):n==="years"&&o.setUTCMonth(0,1),a(),o.getTime()<e&&(o=new Date(L(o,[1,n])));break}return o.getTime()},"se"),pe=h(({timeZone:e=kt,space:t=wt})=>({frame:i,scale:s})=>{var n;const o=i.limits[s.id],a=Math.floor(i.chartArea.width/t)+1,l=(o.max-o.min)/a,[c,r]=(n=se.find(m=>q(m)>=l))!==null&&n!==void 0?n:[1,"milliseconds"],u=ce(o.min,[c,r],e),p=Q(u,e),f=[u];let d;for(;;){switch(r){case"milliseconds":case"seconds":case"minutes":case"hours":{d=L(u,[f.length*c,r]);break}case"days":{const m=L(u,[f.length*c,r]);d=L(m,[p-Q(m,e),"hours"])}case"months":case"years":{const m=L(L(L(u,[p,"hours"]),[f.length*c,r]),[-p,"hours"]);d=L(m,[p-Q(m,e),"hours"]);break}}if(d>o.max)break;f.push(d)}return f},"ue"),j=h((e,t,i)=>{var s,n;return((s=e.find(o=>o.type===i))===null||s===void 0?void 0:s.value)!==((n=t.find(o=>o.type===i))===null||n===void 0?void 0:n.value)},"F"),ge=h(({timeZone:e=kt,locale:t=Rt,showTimezone:i=!0})=>{const s=new Intl.DateTimeFormat(t,{year:"numeric",day:"numeric",month:"short",hour:"numeric",hourCycle:"h23",minute:"numeric",second:"numeric",fractionalSecondDigits:3,timeZoneName:"short",timeZone:e});return({ticks:n})=>{const o=n[1]-n[0],a=o<q([1,"days"]),l=o<q([1,"minutes"]),c=o<q([1,"seconds"]);return n.map(r=>s.formatToParts(new Date(r))).map((r,u,p)=>{var f,d,m,k,v,y,x,b;const C=p[u-1],S=u===0||j(r,C,"year"),T=u===0||j(r,C,"day"),M=u===0||j(r,C,"month"),I=u===0||j(r,C,"hour"),W=u===0||j(r,C,"timeZoneName"),It=u===0||j(r,C,"minute"),Ut=u===0||j(r,C,"second"),zt=u===0||j(r,C,"fractionalSecond"),J=[];if(a&&(I||It||W||Ut||zt)){const U=(f=r.find(N=>N.type==="hour"))===null||f===void 0?void 0:f.value,Et=(d=r.find(N=>N.type==="minute"))===null||d===void 0?void 0:d.value,jt=(m=r.find(N=>N.type==="timeZoneName"))===null||m===void 0?void 0:m.value;let ct="";if(l){const N=(k=r.find(it=>it.type==="second"))===null||k===void 0?void 0:k.value,Lt=(v=r.find(it=>it.type==="fractionalSecond"))===null||v===void 0?void 0:v.value;ct=`:${N}`+(c?`.${Lt}`:"")}J.push(`${U}:${Et}${ct}`+(i&&W?` ${jt}`:""))}return(T||M)&&J.push([(y=r.find(U=>U.type==="month"))===null||y===void 0?void 0:y.value,T&&((x=r.find(U=>U.type==="day"))===null||x===void 0?void 0:x.value)].filter(Boolean).join(" ")),S&&J.push((b=r.find(U=>U.type==="year"))===null||b===void 0?void 0:b.value),J.filter(U=>U).join(`
`)})}},"ve"),_=h((e,t,i=!1)=>{const s=t.ctx.canvas.getBoundingClientRect(),n={x:e.clientX,y:e.clientY},o={x:e.clientX-s.left,y:e.clientY-s.top},a=e.clientX-s.left-t.chartArea.x,l=e.clientY-s.top-t.chartArea.y,c=tt(a,0,t.chartArea.width),r=tt(l,0,t.chartArea.height);if(!i&&(c!==a||r!==l))return;const u={};for(const p of t.inputParams.scales)p.id.startsWith("x-")?u[p.id]=ot(t,c,p.id):u[p.id]=ot(t,r,p.id);return{screen:n,canvas:o,scaled:u}},"W"),ye=h((e={})=>{var t;let i,s,n,o,a,l;const c=new Set(e.onHover?[e.onHover]:[]),r=new Set(e.onClick?[e.onClick]:[]),u=new Set(e.onDblClick?[e.onDblClick]:[]),p=new Set(e.onSpanSelect?[e.onSpanSelect]:[]);let f,d;return Object.assign(Object.assign({},e.pluginOpts),{hooks:Object.assign(Object.assign({},(t=e.pluginOpts)===null||t===void 0?void 0:t.hooks),{onInit({plot:m,frame:k,self:v}){var y,x,b;const C=m.getCanvas();a=h(S=>{if(p.size===0)return;const T=m.getDrawContext();if(f=_(S,T),!!f)for(const M of p)M({phase:"start",plot:m,frame:T,positionStart:f,positionEnd:f,self:v})},"a"),C.addEventListener("mousedown",a),i=h(S=>{if(c.size===0&&p.size===0)return;const T=m.getDrawContext(),M=_(S,T);for(const W of c)W({plot:m,frame:T,position:M,self:v});const I=_(S,T,!0);if(!(!f||!I))for(const W of p)W({phase:"move",plot:m,frame:T,self:v,positionStart:f,positionEnd:I})},"n"),C.addEventListener("mousemove",i),l=h(S=>{if(p.size===0||!f)return;const T=m.getDrawContext(),M=_(S,T,!0);if(M){for(const I of p)I({phase:"end",plot:m,self:v,frame:T,positionStart:f,positionEnd:M});f=void 0}},"l"),document.addEventListener("mouseup",l),s=h(()=>{if(c.size===0)return;const S=m.getDrawContext();for(const T of c)T({plot:m,frame:S,self:v})},"o"),C.addEventListener("mouseleave",s),n=h(S=>{if(d){clearTimeout(d),d=void 0;return}S.detail>1||(d=window.setTimeout(()=>{if(d=void 0,r.size===0)return;const T=m.getDrawContext(),M=_(S,T);if(M)for(const I of r)I({plot:m,frame:T,position:M,self:v})},200))},"s"),C.addEventListener("click",n),o=h(S=>{if(u.size===0)return;const T=m.getDrawContext(),M=_(S,T);if(M)for(const I of u)I({plot:m,frame:T,position:M,self:v})},"i"),C.addEventListener("dblclick",o),(b=(x=(y=e.pluginOpts)===null||y===void 0?void 0:y.hooks)===null||x===void 0?void 0:x.onInit)===null||b===void 0||b.call(x,{plot:m,frame:k,self:v})},onDestroy({plot:m,self:k}){var v,y,x;const b=m.getCanvas();i&&(b.removeEventListener("mousemove",i),i=void 0),s&&(b.removeEventListener("mouseleave",s),s=void 0),n&&(b.removeEventListener("click",n),n=void 0),o&&(b.removeEventListener("dblclick",o),o=void 0),a&&(b.removeEventListener("mousedown",a),a=void 0),l&&(document.removeEventListener("mouseup",l),l=void 0),(x=(y=(v=e.pluginOpts)===null||v===void 0?void 0:v.hooks)===null||y===void 0?void 0:y.onDestroy)===null||x===void 0||x.call(y,{plot:m,self:k})}})})},"fe"),xe=h((e,t,i)=>{const[s]=K.exports.useState(()=>new Pt(e,t())),n=K.exports.useRef(null),o=e.canvasRef||n;return K.exports.useLayoutEffect(()=>{s.getPhase()==="not-attached"?o.current?s.attach(o.current):console.error("No canvas element provided"):s.update(t())},i),K.exports.useLayoutEffect(()=>()=>{s.destroy()},[]),[o,s]},"v");export{ue as a,ge as b,me as c,ye as f,ve as h,fe as l,pe as u,xe as v};
//# sourceMappingURL=main.es.32c8620a.js.map

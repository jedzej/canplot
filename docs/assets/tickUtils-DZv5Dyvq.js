import{u as B,c as L,p as j}from"./CanPlot-BeNKusqU.js";const ae=({scaleId:e,tickStyle:t,labelStyle:s,labelGap:c,tickSize:r,ticks:a})=>(B("BOTTOM",({getCtx:p,valToPos:d,getScale:v,getFrame:i})=>{const n=p(),u=v(e);if(!u||!u.axis||u.origin!=="x")return;const o=u.axis,l=o.position==="top"?o.canvasRect.y+o.canvasRect.height:o.canvasRect.y,m=window.devicePixelRatio||1,g=l,f=(r??6)*m,y=o.position==="top"?l-f:l+f,T=(c??12)*m;n.save(),n.fontKerning="auto",L(n,{...t}),n.beginPath();const M=Array.isArray(a)?a:a({...u,axis:o},i());for(const{value:C}of M){const b=d(C,e,"canvas");n.moveTo(b,g),n.lineTo(b,y)}n.stroke(),n.restore(),n.save(),L(n,{textBaseline:o.position==="top"?"bottom":"top",textAlign:"center",...t,...s});for(const{value:C,label:b}of M){const h=d(C,e,"canvas"),U=b.split(`
`);for(let S=0;S<U.length;S++)n.fillText(U[S],h,y+m*2+S*T)}n.restore()},[a,e,t,s]),null),ce=({scaleId:e,tickStyle:t,labelStyle:s,labelGap:c,tickSize:r,ticks:a})=>(B("BOTTOM",({getCtx:p,valToPos:d,getScale:v,getFrame:i})=>{const n=p(),u=v(e);if(!u||!u.axis||u.origin!=="y")return;const o=u.axis,l=o.position==="left"?o.canvasRect.x+o.canvasRect.width:o.canvasRect.x,m=l,g=r??6,f=o.position==="left"?l-g:l+g,y=c??12,T=Array.isArray(a)?a:a({...u,axis:o},i());n.save(),n.fontKerning="auto",L(n,{...t}),n.beginPath();for(const{value:M}of T){const C=d(M,e,"canvas");n.moveTo(m,C),n.lineTo(f,C)}n.stroke(),n.restore(),n.save(),L(n,{textBaseline:"middle",textAlign:o.position==="left"?"right":"left",...t,...s});for(const{value:M,label:C}of T){const b=d(M,e,"canvas"),h=C.split(`
`);for(let U=0;U<h.length;U++)n.fillText(` ${h[U]} `,f,b+U*y)}n.restore()},[a,e,t,s]),null),H=60,V=30,$="UTC",X="en-GB",ie=({space:e,formatter:t,acceptableIncrements:s}={})=>(c,r)=>{const{min:a,max:p}=c,d=[],v=window.devicePixelRatio||1,i=(e??(c.origin==="x"?H:V))*v,n=j(r,i,c.id),u=s??A,o=u.find(m=>m>n)??u.at(-1)??1;let l=a;if(Math.abs(l%o)>Number.EPSILON){const m=(o-l%o)%o;l+=m}for(;l<=p&&d.length<1e3;)d.push(l),l+=o;return(t??Y)(d)},Y=e=>{const t=Math.max(0,Math.ceil(-Math.log10(e[1]-e[0])));return e.map(s=>({value:s,label:s.toFixed(t)}))},A=[];for(let e=-12;e<=12;e++)A.push(1*10**e),A.push(2*10**e),A.push(5*10**e);const G=1,z=1e3*G,F=60*z,N=60*F,P=24*N,K=30*P,Z=365*P,q=[[1,"milliseconds"],[2,"milliseconds"],[5,"milliseconds"],[10,"milliseconds"],[20,"milliseconds"],[50,"milliseconds"],[100,"milliseconds"],[200,"milliseconds"],[500,"milliseconds"],[1,"seconds"],[5,"seconds"],[10,"seconds"],[15,"seconds"],[30,"seconds"],[1,"minutes"],[5,"minutes"],[10,"minutes"],[15,"minutes"],[30,"minutes"],[1,"hours"],[2,"hours"],[3,"hours"],[4,"hours"],[6,"hours"],[8,"hours"],[12,"hours"],[1,"days"],[3,"days"],[5,"days"],[7,"days"],[10,"days"],[15,"days"],[1,"months"],[2,"months"],[3,"months"],[4,"months"],[6,"months"],[1,"years"],[2,"years"],[5,"years"],[10,"years"],[25,"years"],[50,"years"],[100,"years"]],E=e=>{const[t,s]=e;switch(s){case"milliseconds":return t;case"seconds":return t*z;case"minutes":return t*F;case"hours":return t*N;case"days":return t*P;case"months":return t*K;case"years":return t*Z}},J=(e,t)=>{const s=new Date(e);return s.setUTCMilliseconds(s.getUTCMilliseconds()+t),s.getTime()},Q=(e,t)=>{const s=new Date(e);return s.setUTCSeconds(s.getUTCSeconds()+t),s.getTime()},W=(e,t)=>{const s=new Date(e);return s.setUTCMinutes(s.getUTCMinutes()+t),s.getTime()},ee=(e,t)=>{const s=new Date(e);return s.setUTCHours(s.getUTCHours()+t),s.getTime()},se=(e,t)=>{const s=new Date(e);return s.setUTCDate(s.getUTCDate()+t),s.getTime()},O=(e,t)=>{const s=new Date(e);return s.setUTCMonth(s.getUTCMonth()+t),s.getTime()},D=(e,t)=>{const[s,c]=t;switch(c){case"milliseconds":return J(e,s);case"seconds":return Q(e,s);case"minutes":return W(e,s);case"hours":return ee(e,s);case"days":return se(e,s);case"months":return O(e,s);case"years":return O(e,s*12)}};function k(e,t){const s=new Date(e),c=new Date(s.toLocaleString("en-US",{timeZone:t})),r=new Date(s.toLocaleString("en-US",{timeZone:"UTC"}));return(c.getTime()-r.getTime())/(3600*1e3)}const te=(e,t,s="UTC")=>{const[c,r]=t;let a=new Date(e);const p=()=>{a.setUTCHours(-k(a,s),0,0,0)};switch(r){case"milliseconds":a.setUTCMilliseconds(Math.ceil(a.getUTCMilliseconds()/c)*c);break;case"seconds":a.setUTCSeconds(Math.ceil(a.getUTCSeconds()/c)*c,0);break;case"minutes":a.setUTCMinutes(Math.ceil(a.getTime()%N/F/c)*c,0,0);break;case"hours":a.setUTCHours(Math.ceil(a.getTime()%P/N/c)*c,0,0,0);break;case"days":case"months":case"years":r==="months"?a.setUTCDate(1):r==="years"&&a.setUTCMonth(0,1),p(),a.getTime()<e&&(a=new Date(D(a,[1,r])));break}return a.getTime()},le=({timeZone:e=$,space:t=H,formatter:s,locale:c,showTimezone:r}={})=>(a,p)=>{const{min:d,max:v}=a,i=Math.floor(p.chartAreaCanvasPX.width/t)+1,u=(v-d)/i,[o,l]=q.find(T=>E(T)>=u)??[1,"milliseconds"],m=te(d,[o,l],e),g=k(m,e),f=[m];let y;for(;;){switch(l){case"milliseconds":case"seconds":case"minutes":case"hours":{y=D(m,[f.length*o,l]);break}case"days":{const T=D(m,[f.length*o,l]);y=D(T,[g-k(T,e),"hours"]);break}case"months":case"years":{const T=D(D(D(m,[g,"hours"]),[f.length*o,l]),[-g,"hours"]);y=D(T,[g-k(T,e),"hours"]);break}}if(y>v)break;f.push(y)}return(s??ne({locale:c,showTimezone:r,timeZone:e}))(f)},w=(e,t,s)=>e.find(c=>c.type===s)?.value!==t.find(c=>c.type===s)?.value,ne=({timeZone:e=$,locale:t=X,showTimezone:s=!0})=>{const c=new Intl.DateTimeFormat(t,{year:"numeric",day:"numeric",month:"short",hour:"numeric",hourCycle:"h23",minute:"numeric",second:"numeric",fractionalSecondDigits:3,timeZoneName:"short",timeZone:e});return r=>{const a=r[1]-r[0],p=a<E([1,"days"]),d=a<E([1,"minutes"]),v=a<E([1,"seconds"]);return r.map(i=>({value:i,label:c.formatToParts(new Date(i))})).map((i,n,u)=>{const o=u[n-1],l=n===0||w(i.label,o.label,"year"),m=n===0||w(i.label,o.label,"day"),g=n===0||w(i.label,o.label,"month"),f=n===0||w(i.label,o.label,"hour"),y=n===0||w(i.label,o.label,"timeZoneName"),T=n===0||w(i.label,o.label,"minute"),M=n===0||w(i.label,o.label,"second"),C=n===0||w(i.label,o.label,"fractionalSecond"),b=[];if(p&&(f||T||y||M||C)){const h=i.label.find(x=>x.type==="hour")?.value,U=i.label.find(x=>x.type==="minute")?.value,S=i.label.find(x=>x.type==="timeZoneName")?.value;let R="";if(d){const x=i.label.find(_=>_.type==="second")?.value,I=i.label.find(_=>_.type==="fractionalSecond")?.value;R=`:${x}`+(v?`.${I}`:"")}b.push(`${h}:${U}${R}`+(s&&y?` ${S}`:""))}return(m||g)&&b.push([i.label.find(h=>h.type==="month")?.value,m&&i.label.find(h=>h.type==="day")?.value].filter(Boolean).join(" ")),l&&b.push(i.label.find(h=>h.type==="year")?.value),{value:i.value,label:b.filter(h=>h).join(`
`)}})}};export{ae as X,ce as Y,le as a,ie as m};

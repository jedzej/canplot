var mt=Object.defineProperty;var u=(e,t)=>mt(e,"name",{value:t,configurable:!0});import{r as H}from"./jsx-runtime.1f3365f4.js";function g(e,t,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(e):o?o.value:t.get(e)}u(g,"w");function C(e,t,i,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(e,i):s?s.value=i:t.set(e,i),i}u(C,"D");const pt=50,q="primary",rt="center",lt=5,ct=10,gt=60,ht=25,xt=10,V=u((e,t,i)=>Math.min(Math.max(e,t),i),"Q"),bt=u((e,t)=>{let i=0;for(let o=0;o<e.length;o++)Math.abs(e[o]-t)<Math.abs(e[i]-t)&&(i=o);return i},"Ft"),j=u(e=>typeof e=="string"?e.startsWith("x-"):e.id.startsWith("x-"),"F"),L=u((e,t,i)=>{const o=e.chartArea,{min:s,max:n}=e.limits[i.id],a=(j(i)?o.width:o.height)/(n-s);return t*a},"N"),w=u((e,t,i)=>{const{min:o}=e.limits[i.id],s=e.chartArea,n=L(e,t-o,i);return j(i)?V(s.x+n,-10*s.width,10*s.width):V(s.y+s.height-n,-10*s.height,10*s.height)},"T"),U=u((e,t,i)=>{const{min:o,max:s}=e.limits[i.id],n=e.chartArea,a=(j(i)?n.width:n.height)/(s-o);return t/a},"rt"),Q=u((e,t,i)=>{const{min:o,max:s}=e.limits[i.id],n=U(e,t,i);return j(i)?o+n:s-n},"ot"),A=u((e,t)=>{var i,o,s,n,a,r,c,l,v,p,d,h;e.lineCap=(i=t==null?void 0:t.lineCap)!==null&&i!==void 0?i:"butt",e.lineDashOffset=(o=t==null?void 0:t.lineDashOffset)!==null&&o!==void 0?o:0,e.lineJoin=(s=t==null?void 0:t.lineJoin)!==null&&s!==void 0?s:"miter",e.lineWidth=(n=t==null?void 0:t.lineWidth)!==null&&n!==void 0?n:1,e.miterLimit=(a=t==null?void 0:t.miterLimit)!==null&&a!==void 0?a:10,e.strokeStyle=(r=t==null?void 0:t.strokeStyle)!==null&&r!==void 0?r:"black",e.fillStyle=(c=t==null?void 0:t.fillStyle)!==null&&c!==void 0?c:"black",e.font=(l=t==null?void 0:t.font)!==null&&l!==void 0?l:"10px sans-serif",e.textAlign=(v=t==null?void 0:t.textAlign)!==null&&v!==void 0?v:"start",e.direction=(p=t==null?void 0:t.direction)!==null&&p!==void 0?p:"inherit",e.textBaseline=(d=t==null?void 0:t.textBaseline)!==null&&d!==void 0?d:"alphabetic",e.fontKerning=(h=t==null?void 0:t.fontKerning)!==null&&h!==void 0?h:"auto"},"x"),dt=u(e=>{if(typeof e=="number"||typeof e>"u"){const t=e!=null?e:xt;return{top:t,right:t,bottom:t,left:t}}return Object.assign({},e)},"kt"),yt=u((e,t)=>{const{series:i}=t.inputParams;return e?i.map(o=>{if(o.x.length<0)return;const s=bt(o.x,e.scaled[o.xScaleId]);return{x:o.x[s],y:o.y[s]}}):i.map(()=>{})},"jt"),jt=Object.freeze(Object.defineProperty({__proto__:null,isXScale:j,valToPxDistance:L,valToPos:w,pxToValDistance:U,posToVal:Q,applyStyles:A,normalizePadding:dt,findClosestDataPoint:yt},Symbol.toStringTag,{value:"Module"})),G=[];for(let e=-12;e<=12;e++)G.push(1*Math.pow(10,e)),G.push(2*Math.pow(10,e)),G.push(5*Math.pow(10,e));const R=u(e=>{var t;return((t=e.position)!==null&&t!==void 0?t:q)==="primary"},"B"),ft=u(({space:e=gt}={})=>({frame:t,scale:i})=>{var o;const s=t.limits[i.id],n=[],a=U(t,e,i),r=(o=G.find(l=>l>a))!==null&&o!==void 0?o:1;let c=s.min%r<Number.EPSILON?s.min:s.min+r-s.min%r;for(;c<=s.max;)n.push(c),c+=r;return n},"Pt"),ut=u(({ticks:e})=>{const t=Math.max(0,Math.ceil(-Math.log10(e[1]-e[0])));return e.map(i=>i.toFixed(t))},"xt"),tt=u((e,t,i,o)=>{var s,n,a,r,c;const{ctx:l}=e,v=(s=t.tickSize)!==null&&s!==void 0?s:lt,p=o,d=R(t)?o-v:o+v,h=(n=t.multilineGap)!==null&&n!==void 0?n:ct,m=(r=((a=t.genTicks)!==null&&a!==void 0?a:ft())({frame:e,scale:i,axis:t}))!==null&&r!==void 0?r:[],P=((c=t.tickFormat)!==null&&c!==void 0?c:ut)({frame:e,scale:i,ticks:m});l.save(),A(l,Object.assign(Object.assign({},t.axisStyle),t.tickStyle)),l.beginPath();for(let f=0;f<m.length;f++){const x=w(e,m[f],i);l.moveTo(p,x),l.lineTo(d,x)}l.stroke(),l.restore(),l.save(),A(l,Object.assign(Object.assign({textBaseline:"middle",textAlign:R(t)?"right":"left"},t.axisStyle),t.tickLabelStyle));for(let f=0;f<m.length;f++){const x=w(e,m[f],i),b=P[f].split(`
`);for(let y=0;y<b.length;y++)l.fillText(b[y],d,x+y*h)}l.restore()},"ct"),et=u((e,t,i,o,s)=>{e.save(),A(e,t.axisStyle),e.beginPath(),e.moveTo(i,o),e.lineTo(i,s),e.closePath(),e.stroke(),e.restore()},"dt"),it=u((e,t,i,o)=>{var s,n,a,r,c,l;const{ctx:v}=e,p=(s=t.position)!==null&&s!==void 0?s:q,d=(n=t.tickSize)!==null&&n!==void 0?n:lt,h=o,m=p==="primary"?o+d:o-d,P=(a=t.multilineGap)!==null&&a!==void 0?a:ct,f=(c=((r=t.genTicks)!==null&&r!==void 0?r:ft())({frame:e,scale:i,axis:t}))!==null&&c!==void 0?c:[],x=((l=t.tickFormat)!==null&&l!==void 0?l:ut)({frame:e,scale:i,ticks:f});v.save(),A(v,Object.assign(Object.assign({},t.axisStyle),t.tickStyle)),v.beginPath();for(let b=0;b<f.length;b++){const y=w(e,f[b],i);v.moveTo(y,h),v.lineTo(y,m)}v.stroke(),v.restore(),v.save(),A(v,Object.assign(Object.assign({textBaseline:p==="primary"?"top":"bottom",textAlign:"center"},t.axisStyle),t.tickLabelStyle));for(let b=0;b<f.length;b++){const y=w(e,f[b],i),O=x[b].split(`
`);for(let k=0;k<O.length;k++)v.fillText(O[k],y,m+k*P)}v.restore()},"ht"),ot=u((e,t,i)=>{var o,s;if(!t.label)return;const{ctx:n}=e;n.save();let a,r;switch((o=t.labelAlign)!==null&&o!==void 0?o:rt){case"start":r="left",a=e.chartArea.x;break;case"end":r="right",a=e.chartArea.x+e.chartArea.width;break;case"center":r="center",a=e.chartArea.x+e.chartArea.width/2;break}A(n,Object.assign({textBaseline:R(t)?"top":"bottom",textAlign:r},t.labelStyle));const c=(s=t.labelOffset)!==null&&s!==void 0?s:ht,l=R(t)?i+c:i-c;n.fillText(t.label,a,l),n.restore()},"ut"),st=u((e,t,i,o,s)=>{e.save(),A(e,t.axisStyle),e.beginPath(),e.moveTo(o,i),e.lineTo(s,i),e.closePath(),e.stroke(),e.restore()},"vt"),nt=u((e,t,i)=>{var o,s;if(!t.label)return;const{ctx:n}=e;n.save();let a,r;switch((o=t.labelAlign)!==null&&o!==void 0?o:rt){case"start":r="bottom",a=e.chartArea.y+e.chartArea.height;break;case"end":r="top",a=e.chartArea.y;break;case"center":r="middle",a=e.chartArea.y+e.chartArea.height/2;break}A(n,Object.assign({textBaseline:r,textAlign:R(t)?"right":"left"},t.labelStyle));const c=(s=t.labelOffset)!==null&&s!==void 0?s:ht,l=R(t)?i-c:i+c;n.fillText(t.label,l,a),n.restore()},"ft"),wt=u(e=>{var t,i;const{ctx:o,chartArea:s,inputParams:n,canvasSize:a,padding:r}=e,c=s.x,l=s.x+s.width,v=s.y,p=s.y+s.height;let d=r.left,h=a.width-r.right,m=a.height-r.bottom,P=r.top;for(const f of n.axes){const x=n.scales.find(O=>O.id===f.scaleId);if(!x)continue;const b=(t=f.size)!==null&&t!==void 0?t:pt,y=(i=f.position)!==null&&i!==void 0?i:q;j(x)?y==="primary"?(m-=b,st(o,f,m,c,l),it(e,f,x,m),ot(e,f,m)):(P+=b,st(o,f,P,c,l),it(e,f,x,P),ot(e,f,P)):y==="primary"?(d+=b,et(o,f,d,v,p),tt(e,f,x,d),nt(e,f,d)):(h-=b,et(o,f,h,v,p),tt(e,f,x,h),nt(e,f,h))}},"Nt"),F=u((e,t)=>{const i=e.inputParams.scales.find(o=>o.id===t);return i||console.error("No scale found",t),i},"X"),kt=u((e,t)=>{const{ctx:i,chartArea:o}=e,s=F(e,t.scaleId);if(!s)return;const n=w(e,t.x,s);i.save(),A(i,t.style),i.beginPath(),i.moveTo(n,o.y),i.lineTo(n,o.y+o.height),i.stroke(),i.restore()},"Wt"),St=u((e,t)=>{const{ctx:i,chartArea:o}=e,s=F(e,t.scaleId);if(!s)return;const n=w(e,t.y,s);i.save(),A(i,t.style),i.beginPath(),i.moveTo(o.x,n),i.lineTo(o.x+o.width,n),i.stroke(),i.restore()},"Bt"),Pt=u((e,t)=>{const{ctx:i}=e,o=F(e,t.xScaleId),s=F(e,t.yScaleId);if(!o||!s)return;const n=w(e,t.x,o),a=w(e,t.y,s);i.save(),A(i,t.style),i.beginPath(),i.arc(n,a,t.radius,0,2*Math.PI),i.stroke(),i.fill(),i.restore()},"Xt"),At=u((e,t)=>{const{ctx:i,chartArea:o}=e;let s=o.x,n=o.x+o.width,a=o.y,r=o.y+o.height;if(t.x){const c=F(e,t.x.scaleId);if(!c)return;typeof t.x.min=="number"&&(s=Math.ceil(w(e,t.x.min,c))),typeof t.x.max=="number"&&(n=Math.ceil(w(e,t.x.max,c)))}if(t.y){const c=F(e,t.y.scaleId);if(!c)return;typeof t.y.min=="number"&&(a=Math.ceil(w(e,t.y.min,c))),typeof t.y.max=="number"&&(r=Math.ceil(w(e,t.y.max,c)))}i.save(),A(i,t.style),i.beginPath(),i.fillRect(s,a,n-s,r-a),i.restore()},"Ht"),Mt=u((e,t)=>{e.ctx.save(),A(e.ctx,t.style),t.draw(e,t),e.ctx.restore()},"Rt"),Z=u((e,t)=>{var i,o;const{inputParams:s}=e,n=(o=(i=s.facets)===null||i===void 0?void 0:i.filter(a=>{var r;return((r=a.layer)!==null&&r!==void 0?r:"bottom")===t}))!==null&&o!==void 0?o:[];for(const a of n)switch(a.type){case"custom":Mt(e,a);break;case"v-line":kt(e,a);break;case"h-line":St(e,a);break;case"circle":Pt(e,a);break;case"span":At(e,a);break}},"nt"),Tt=u(({frame:e,scaleId:t})=>{let i=1/0,o=-1/0;for(const s of e.inputParams.series)if(j(t)){if(s.xScaleId!==t)continue;for(const n of s.x)n<i&&(i=n),n>o&&(o=n)}else{if(s.yScaleId!==t)continue;for(const n of s.y)n<i&&(i=n),n>o&&(o=n)}return Number.isFinite(i)&&Number.isFinite(o)?{min:i,max:o}:{min:0,max:1}},"Yt"),Ot=u(e=>{var t;const{ctx:i,chartArea:o,inputParams:s}=e;i.save();const n=new Path2D;n.rect(o.x,o.y,o.width,o.height),i.clip(n);for(const a of s.series){const r=s.scales.find(l=>l.id===a.xScaleId),c=s.scales.find(l=>l.id===a.yScaleId);!r||!c||(t=a.plotter)===null||t===void 0||t.call(a,e,a,r,c)}e.ctx.restore()},"Gt");var D,X,T,z,Y,_,K,N,E,at,$,B;const Ct=u(({ctx:e,canvasSize:{width:t,height:i}})=>{e.clearRect(0,0,t,i)},"Vt");class vt{constructor(t,i){var o,s,n;D.add(this),X.set(this,void 0),T.set(this,void 0),z.set(this,void 0),Y.set(this,void 0),_.set(this,!1),K.set(this,[]),N.set(this,void 0),E.set(this,"not-attached"),Object.defineProperty(this,"parentResizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:new ResizeObserver(c=>{for(const l of c)C(this,Y,{width:l.contentRect.width,height:l.contentRect.height},"f"),g(this,D,"m",B).call(this,g(this,z,"f"))})});const{width:a="auto",height:r="auto"}=(o=t.dimensions)!==null&&o!==void 0?o:{};C(this,X,{width:a,height:r},"f"),C(this,T,(n=(s=t.plugins)===null||s===void 0?void 0:s.map((c,l)=>{var v;return{setState:p=>{g(this,T,"f")[l].state=p(g(this,T,"f")[l].state),g(this,D,"m",B).call(this,g(this,z,"f"))},state:(v=c.initState)===null||v===void 0?void 0:v.call(c),config:c}}))!==null&&n!==void 0?n:[],"f"),C(this,z,i,"f"),t.canvas&&this.attach(t.canvas)}getPhase(){return g(this,E,"f")}attach(t){if(g(this,E,"f")!=="not-attached")throw new Error("Plot already attached");C(this,E,"initializing","f"),C(this,N,t,"f");const{width:i,height:o}=g(this,X,"f");typeof i=="number"&&Number.isFinite(i)&&(t.width=i),typeof o=="number"&&Number.isFinite(o)&&(t.height=o),i==="auto"||o==="auto"?this.parentResizeObserver.observe(t.parentElement):g(this,D,"m",B).call(this,g(this,z,"f"))}getCanvas(){if(!g(this,N,"f"))throw new Error("Canvas not attached");return g(this,N,"f")}update(t){let i;if(t instanceof Function)if(g(this,E,"f")==="initialized")try{i=t(g(this,z,"f"))}catch(o){console.error(o);return}else{console.error("Cannot update plot before it is initialized: "+g(this,E,"f"));return}else i=t;C(this,z,i,"f"),g(this,D,"m",B).call(this,i)}getDrawContext(){return g(this,D,"m",$).call(this,g(this,z,"f"))}destroy(){var t,i;this.parentResizeObserver.disconnect(),C(this,E,"destroyed","f");for(const o of g(this,T,"f"))(i=(t=o.config.hooks)===null||t===void 0?void 0:t.onDestroy)===null||i===void 0||i.call(t,{plot:this,self:o});for(const o of g(this,K,"f"))o()}}u(vt,"ae");X=new WeakMap,T=new WeakMap,z=new WeakMap,Y=new WeakMap,_=new WeakMap,K=new WeakMap,N=new WeakMap,E=new WeakMap,D=new WeakSet,at=u(function(){const{width:e,height:t}=g(this,X,"f"),i=this.getCanvas();i.width=e==="auto"?g(this,Y,"f").width:e,i.height=t==="auto"?g(this,Y,"f").height:t},"mt"),$=u(function(e){var t,i;const o=dt(e.padding);let s=0,n=0,a=0,r=0;for(const p of e.axes){const d=(t=p.size)!==null&&t!==void 0?t:50,h=(i=p.position)!==null&&i!==void 0?i:"primary";j(p.scaleId)?h==="primary"?a+=d:r+=d:h==="primary"?s+=d:n+=d}const c=this.getCanvas(),l={width:c.width,height:c.height},v={ctx:c.getContext("2d"),chartArea:{x:s+o.left,y:r+o.top,width:l.width-s-n-o.left-o.right,height:l.height-r-a-o.top-o.bottom},padding:o,canvasSize:l,inputParams:e};return Object.assign(Object.assign({},v),{limits:Object.fromEntries(e.scales.map(p=>{var d;return[p.id,((d=p.makeLimits)!==null&&d!==void 0?d:Tt)({frame:v,scaleId:p.id})]}))})},"it"),B=u(function(e){var t,i,o,s,n,a,r,c,l,v;if(g(this,E,"f")==="destroyed")return;if(g(this,_,"f")){console.error("Cannot redraw while redrawing");return}C(this,_,!0,"f"),g(this,D,"m",at).call(this);let p=e;for(const h of g(this,T,"f"))h.config.transformInputParams&&(p=h.config.transformInputParams({inputParams:p,plot:this,self:h}));let d=g(this,D,"m",$).call(this,p);for(const h of g(this,T,"f"))h.config.transformFrame&&(d=h.config.transformFrame({frame:d,plot:this,self:h}));if(g(this,E,"f")==="initializing"){for(const h of g(this,T,"f")){const m=(i=(t=h.config.hooks)===null||t===void 0?void 0:t.onInit)===null||i===void 0?void 0:i.call(t,{frame:d,plot:this,self:h});m&&g(this,K,"f").push(m)}C(this,E,"initialized","f")}for(const h of g(this,T,"f"))(s=(o=h.config.hooks)===null||o===void 0?void 0:o.beforeClear)===null||s===void 0||s.call(o,{frame:d,plot:this,self:h});Ct(d);for(const h of g(this,T,"f"))(a=(n=h.config.hooks)===null||n===void 0?void 0:n.afterClear)===null||a===void 0||a.call(n,{frame:d,plot:this,self:h});if(!(d.chartArea.height<0||d.chartArea.width<0)){Z(d,"bottom"),Ot(d);for(const h of g(this,T,"f"))(c=(r=h.config.hooks)===null||r===void 0?void 0:r.afterSeries)===null||c===void 0||c.call(r,{frame:d,plot:this,self:h});Z(d,"middle"),wt(d);for(const h of g(this,T,"f"))(v=(l=h.config.hooks)===null||l===void 0?void 0:l.afterAxes)===null||v===void 0||v.call(l,{frame:d,plot:this,self:h});Z(d,"top"),C(this,_,!1,"f")}},"G");const Et=u(({frame:e,idx:t,series:i,scale:o,distinctDistance:s})=>{const n=L(e,i.x[t],o);for(let a=1;a<100;a++){const r=i.x[t-a];if(r!==void 0&&Math.abs(L(e,r,o)-n)<=s)return!1;const c=i.x[t+a];if(c!==void 0&&Math.abs(L(e,c,o)-n)<=s)return!1}return!0},"Zt"),Lt=u(({style:e,showDistrinct:t=Et,radius:i=3,distinctDistance:o=50,gapDistance:s=1/0}={})=>(n,a,r,c)=>{const l=n.ctx,v=Math.min(a.x.length,a.y.length),p=w(n,a.x[0],r),d=w(n,a.y[0],c);l.save(),l.beginPath(),A(l,e),l.moveTo(p,d);for(let h=1;h<v;h++){const m=a.x[h],P=a.y[h],f=w(n,m,r),x=w(n,P,c);a.x[h]-a.x[h-1]>s?l.moveTo(f,x):l.lineTo(f,x)}l.stroke(),l.beginPath();for(let h=0;h<v;h++)if(t({frame:n,idx:h,series:a,scale:r,distinctDistance:o})){const m=a.x[h],P=a.y[h],f=w(n,m,r),x=w(n,P,c);l.moveTo(f+i,x),l.arc(f,x,i,0,2*Math.PI)}l.fillStyle="white",l.fill(),l.stroke(),l.restore()},"le"),Wt=u(({style:e,radius:t=3}={})=>(i,o,s,n)=>{const a=i.ctx;a.save(),a.beginPath(),A(a,e);for(let r=0;r<o.x.length;r++){const c=o.x[r],l=o.y[r];if(c===void 0||l===void 0)continue;const v=w(i,c,s),p=w(i,l,n);a.moveTo(v+t,p),a.arc(v,p,t,0,2*Math.PI)}a.closePath(),a.stroke(),a.restore()},"ce"),zt=u(e=>{const t=Math.floor(e*255);return[t,t,t,255]},"$t"),Rt=u(({z:e,tileX:t,tileY:i,colorSpace:o})=>(s,n,a,r)=>{var c;const l=Math.max(...e),v=Math.min(...e),p=e.map(m=>(m-v)/(l-v)),d=Math.floor(L(s,t,a))+1,h=Math.floor(L(s,i,r))+1;for(let m=0;m<n.x.length;m++){const P=n.x[m],f=n.y[m],x=p[m];if(P===void 0||f===void 0||x===void 0)continue;const b=s.ctx.createImageData(d,h);for(let y=0;y<b.data.length;y+=4){const[O,k,S,M]=(c=o==null?void 0:o(x))!==null&&c!==void 0?c:zt(x);b.data[y]=O,b.data[y+1]=k,b.data[y+2]=S,b.data[y+3]=M}s.ctx.putImageData(b,Math.round(w(s,P,a)),Math.round(w(s,f,r)-h))}},"he"),W=u((e,t,i=!1)=>{const o=t.ctx.canvas.getBoundingClientRect(),s={x:e.clientX,y:e.clientY},n={x:e.clientX-o.left,y:e.clientY-o.top},a=e.clientX-o.left-t.chartArea.x,r=e.clientY-o.top-t.chartArea.y,c=V(a,0,t.chartArea.width),l=V(r,0,t.chartArea.height);if(!i&&(c!==a||l!==r))return;const v={};for(const p of t.inputParams.scales)p.id.startsWith("x-")?v[p.id]=Q(t,c,p):v[p.id]=Q(t,l,p);return{screen:s,canvas:n,scaled:v}},"W"),Ft=u((e={})=>{var t;let i,o,s,n,a,r;const c=new Set(e.onHover?[e.onHover]:[]),l=new Set(e.onClick?[e.onClick]:[]),v=new Set(e.onDblClick?[e.onDblClick]:[]),p=new Set(e.onSpanSelect?[e.onSpanSelect]:[]);let d,h;return Object.assign(Object.assign({},e.pluginOpts),{hooks:Object.assign(Object.assign({},(t=e.pluginOpts)===null||t===void 0?void 0:t.hooks),{onInit({plot:m,frame:P,self:f}){var x,b,y;const O=m.getCanvas();a=u(k=>{if(p.size===0)return;const S=m.getDrawContext();if(d=W(k,S),!!d)for(const M of p)M({phase:"start",plot:m,frame:S,positionStart:d,positionEnd:d,self:f})},"r"),O.addEventListener("mousedown",a),i=u(k=>{if(c.size===0&&p.size===0)return;const S=m.getDrawContext(),M=W(k,S);for(const J of c)J({plot:m,frame:S,position:M,self:f});const I=W(k,S,!0);if(!(!d||!I))for(const J of p)J({phase:"move",plot:m,frame:S,self:f,positionStart:d,positionEnd:I})},"n"),O.addEventListener("mousemove",i),r=u(k=>{if(p.size===0||!d)return;const S=m.getDrawContext(),M=W(k,S,!0);if(M){for(const I of p)I({phase:"end",plot:m,self:f,frame:S,positionStart:d,positionEnd:M});d=void 0}},"l"),document.addEventListener("mouseup",r),o=u(()=>{if(c.size===0)return;const k=m.getDrawContext();for(const S of c)S({plot:m,frame:k,self:f})},"o"),O.addEventListener("mouseleave",o),s=u(k=>{if(h){clearTimeout(h),h=void 0;return}k.detail>1||(h=window.setTimeout(()=>{if(h=void 0,l.size===0)return;const S=m.getDrawContext(),M=W(k,S);if(M)for(const I of l)I({plot:m,frame:S,position:M,self:f})},200))},"i"),O.addEventListener("click",s),n=u(k=>{if(v.size===0)return;const S=m.getDrawContext(),M=W(k,S);if(M)for(const I of v)I({plot:m,frame:S,position:M,self:f})},"s"),O.addEventListener("dblclick",n),(y=(b=(x=e.pluginOpts)===null||x===void 0?void 0:x.hooks)===null||b===void 0?void 0:b.onInit)===null||y===void 0||y.call(b,{plot:m,frame:P,self:f})},onDestroy({plot:m,self:P}){var f,x,b;const y=m.getCanvas();i&&(y.removeEventListener("mousemove",i),i=void 0),o&&(y.removeEventListener("mouseleave",o),o=void 0),s&&(y.removeEventListener("click",s),s=void 0),n&&(y.removeEventListener("dblclick",n),n=void 0),a&&(y.removeEventListener("mousedown",a),a=void 0),r&&(document.removeEventListener("mouseup",r),r=void 0),(b=(x=(f=e.pluginOpts)===null||f===void 0?void 0:f.hooks)===null||x===void 0?void 0:x.onDestroy)===null||b===void 0||b.call(x,{plot:m,self:P})}})})},"fe"),_t=u((e,t,i)=>{const[o]=H.exports.useState(()=>new vt(e,t())),s=H.exports.useRef(null),n=e.canvasRef||s;return H.exports.useLayoutEffect(()=>{o.getPhase()==="not-attached"?n.current?o.attach(n.current):console.error("No canvas element provided"):o.update(t())},i),H.exports.useLayoutEffect(()=>()=>{o.destroy()},[]),[n,o]},"v");export{Wt as c,Ft as f,Rt as h,Lt as l,jt as r,_t as v};
//# sourceMappingURL=main.es.799f0f97.js.map
